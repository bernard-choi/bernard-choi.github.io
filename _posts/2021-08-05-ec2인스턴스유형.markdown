---  
layout: post
title: "[AWS] 인스턴스 유형"
subtitle: "[AWS] 인스턴스 유형" 
categories: Development
tags: AWS
comments: true  
--- 

- 데이터 동기화, 테이블 생성등 다양한 배치작업을 담당하는 서버(Airflow)에서 메모리 에러가 계속 발생하여 인스턴스 유형을 변경하기로 했습니다. 
- 원래는 t2.large(cpu 2개, 메모리 8G)를 사용했으나, 배치 작업 특성 상, 많은 메모리를 소요하기 때문에 메모리 특화 인스턴스를 적용하기로 했습니다. 
- 그리고 조사하면서, AWS에서 제공하는 다양한 인스턴스 유형을 정리해보았습니다. 

## 인스턴스 유형 구분하기

AWS는 수많은 인스턴스 유형을 제공

각 인스턴스 타입별로 스펙과 가격이 다르며 효율이 내는 컨텐츠나 역할이 다르기 때문에, 인스턴스를 생성할때는 그에 맞는 유형을 활용하여 사용하는 것이 좋다. 

인스턴스 타입에는 각 테마가 존재하는데 다음과 같다. 

**범용** - 범용 인스턴스, 일반적인 인스턴스 유형

- T2
  - 기본 수준의 CPU 성능과 더불어 기본 수준을 넘어 버스트할 수 있는 기능을 제공하는 성능 순간 확장 기능 성능
  - 인스턴스, 비용이 저렴한 범용 인스턴스 유형
  - 컴퓨팅 메모리 네트워크 리소스를 균형 있게 제공

**컴퓨팅 최적화** - 고성능 프로세스 활용에 적합(HPC, 게임서버, 머신러닝 등)

- C6g
  - AWS Graviton2 프로세서로 구동
  - 기존 세대 C5 인스턴스에 비해 컴퓨팅 집약적인 어플리케이션에 최대 40% 향상된 가격 대비 성능 제공
  - 고성능 컴퓨팅, 배치처리, 광고개체, 동영상 인코딩등에 사용

**메모리 최적화** - 대규모 처리를 담당하는 워크로드의 처리를 위함

- R4
  - R4인스터는 메모리를 집중적으로 사용하는 애플리케이션에 최적화되어 있으며, RAM의 GB당 가격이 R3보다 저렴
  - 고성능 데이터베이스, 데이터마이닝 및 분석, 인메모리 데이터베이스, 분산형 웹 스케일 인메모리 케시, 많은 빅데이터의 실시간 처리를 수행하는 어플리케이션등에 사용됨

**스토리지 최적화** - 스토리지의 대용량 데이터 읽기/쓰기 엑세스에 최적화

- I3
  - 짧은 지연 시간, 매우 높은 무작위 I/O 성능, 높은 순차 읽기 처리량에 최적화된 NVME SSD 지원 인스턴스 스토리지를 제공
  - NoSQL 데이터베이스, 스케일 아웃 트랜잭션 데이터베이스, 데이터 웨어하우징, Elasticsearch등에 사용

**가속 컴퓨팅** - 계산 또는 그래픽 처리 등의 GPU기능에 최적화

- P4
  - 최신 세대의 GPU 기반 인스턴스이며, 클라우드에서 기계 학습 훈련과 고성능 컴퓨팅에 최고의 성능을 제공

## 인스턴스 유형 비교하기

원하는 스펙과 가격의 인스턴스를 찾아볼 수 있는 사이트
- [https://instances.vantage.sh/?min_memory=512&min_vcpus=12](https://instances.vantage.sh/?min_memory=512&min_vcpus=12)

위 링크 접속 후 원하는 스펙을 입력하면 해당하는 인스턴스 유형들이 나열됨. 

스펙, 네트워크 속도, OS, 계산방식을 통해 최적화된 가격의 인스턴스 유형들을 확인할 수 있음.